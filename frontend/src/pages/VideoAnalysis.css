/* 1. Container ch√≠nh */
.video-analysis-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  background-color: #000; /* N·ªÅn ƒëen */
  overflow: hidden;
  display: flex; /* CƒÉn gi·ªØa n·ªôi dung */
  justify-content: center;
  align-items: center;
  font-family: 'Be Vietnam Pro', sans-serif;
}

/* Loading text */
.video-analysis-loading {
  color: white;
  font-size: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: #000;
}

/* 2. LAYER N·ªÄN M·ªú (M·ªöI) - Thay th·∫ø cho .video-background c≈© */
.video-backdrop-blur {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Tr√†n m√†n h√¨nh ƒë·ªÉ l·∫•p kho·∫£ng tr·ªëng */
  filter: blur(30px) brightness(0.5); /* L√†m m·ªù v√† t·ªëi ƒëi */
  z-index: 1;
  opacity: 0.8;
  transform: scale(1.1); /* Ph√≥ng to nh·∫π ƒë·ªÉ m√©p blur ƒë·∫πp h∆°n */
}

/* 3. LAYER VIDEO CH√çNH (M·ªöI) */
.video-main {
  position: relative;
  width: 100%;
  height: 100%;
  max-height: 100vh; 
  max-width: 100vw;
  object-fit: contain; /* QUAN TR·ªåNG: Gi·ªØ t·ªâ l·ªá video, kh√¥ng b·ªã c·∫Øt h√¨nh */
  z-index: 2; /* N·ªïi l√™n tr√™n n·ªÅn m·ªù */
  box-shadow: 0 0 50px rgba(0,0,0,0.5); /* T·∫°o b√≥ng */
}

/* 4. Overlay Content (Gi·ªØ nguy√™n) */
.video-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 10;
  pointer-events: none; /* ƒê·ªÉ click xuy√™n qua v√†o video */
}

/* Cho ph√©p click v√†o c√°c n√∫t */
.video-overlay > * { pointer-events: auto; }

/* Header with Back Button */
.video-header {
  position: absolute;
  top: 40px; left: 40px;
  z-index: 20;
}

.back-button-video {
  display: flex; align-items: center; gap: 15px;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 30px;
  padding: 10px 25px;
  cursor: pointer;
  color: #ffffff;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.2s;
}
.back-button-video:hover { background: rgba(0,0,0,0.8); }

/* Stats Panel */
.stats-panel {
  position: absolute;
  
  /* üëá 1. K√âO N√ì L√äN CAO H∆†N (ƒê·ªïi t·ª´ 80px th√†nh 40px ƒë·ªÉ ngang h√†ng v·ªõi n√∫t Back) */
  top: 40px; 
  right: 50px;
  width: 320px;

  height: auto;
  
  /* T·ª± ƒë·ªông t√≠nh: 100% m√†n h√¨nh tr·ª´ ƒëi ph·∫ßn top(40px) v√† ph·∫ßn controls(100px) */
  max-height: calc(100vh - 140px); 

  background: rgba(7, 91, 31, 0.85);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 25px;
  z-index: 20;
  border: 1px solid rgba(255,255,255,0.1);
  display: flex; flex-direction: column;

  padding-bottom: 30px;
  
  overflow-y: auto; 
}

/* T√πy ch·ªânh thanh cu·ªôn cho ƒë·∫πp (Optional) */
.stats-panel::-webkit-scrollbar { width: 6px; }
.stats-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 3px; }


.stats-list { display: flex; flex-direction: column; gap: 15px; }

.panel-title {
  color: #fff; margin-top: 0; margin-bottom: 15px;
  border-bottom: 1px solid rgba(255,255,255,0.3);
  padding-bottom: 10px;
}

.stat-row { display: flex; justify-content: space-between; color: #fff; font-size: 1.1rem; }
.stat-value { font-weight: 700; }
.stat-value.highlight { color: #C5E1A5; font-size: 1.2rem; }

.stat-divider { height: 1px; background: rgba(255,255,255,0.3); margin: 15px 0; }

/* AI Comment Box */
.ai-comment-box-video {
  background: #fff;
  border-radius: 12px;
  padding: 15px;
  margin-top: 20px;
  display: flex; flex-direction: column; gap: 8px;
}

.ai-title-row { display: flex; align-items: center; gap: 10px; font-weight: 700; color: #1B5E20; }
.ai-icon-video { width: 24px; height: 24px; color: #1B5E20; }
.ai-comment-text-video { font-size: 0.9rem; line-height: 1.5; color: #333; margin: 0; }

/* ROI Box (CƒÉn gi·ªØa t∆∞∆°ng ƒë·ªëi) */
.roi-box-center {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 30%; height: 70%; /* K√≠ch th∆∞·ªõc t∆∞∆°ng ƒë·ªëi */
  border: 3px dashed rgba(229, 25, 25, 0.6);
  pointer-events: none;
  z-index: 5;
  box-shadow: 0 0 20px rgba(229, 25, 25, 0.2);
}

/* 5. Video Controls */
.video-controls {
  position: absolute;
  bottom: 0; left: 0;
  width: 100%;
  z-index: 30;
  background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
  padding-bottom: 20px; padding-top: 40px;
}

.control-bar {
  display: flex; align-items: center; gap: 20px;
  padding: 0 40px;
}

.play-button {
  width: 45px; height: 45px;
  background: #ffffff; border: none; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; color: #075b1f; font-size: 18px;
  transition: transform 0.2s;
}
.play-button:hover { transform: scale(1.1); }

.time-display {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 14px; font-weight: 700; color: #ffffff;
  min-width: 100px; text-align: right;
  font-variant-numeric: tabular-nums;
}

/* 6. Thanh Progress Video (ƒê√É ƒê·ªîI T√äN CLASS) */
.video-progress-container {
  flex: 1;
  height: 10px;
  background: rgba(255,255,255,0.3);
  border-radius: 5px;
  cursor: pointer;
  position: relative;
  transition: height 0.2s;
}

.video-progress-container:hover { height: 14px; }

.video-progress-bg { 
  width: 100%; height: 100%; 
  border-radius: 5px; overflow: hidden; 
}

.video-progress-fill {
  height: 100%;
  background: #E53935; /* M√†u ƒë·ªè */
  border-radius: 5px;
  position: relative;
}

/* Ch·∫•m tr√≤n Scrubber */
.video-progress-fill::after {
  content: ''; position: absolute;
  right: -6px; top: 50%; transform: translateY(-50%);
  width: 14px; height: 14px;
  background: white; border-radius: 50%;
  box-shadow: 0 0 5px rgba(0,0,0,0.5);
  opacity: 0; transition: opacity 0.2s;
}

.video-progress-container:hover .video-progress-fill::after { opacity: 1; }

/* Responsive */
@media (max-width: 768px) {
  .video-header { top: 20px; left: 20px; }
  .stats-panel { top: 70px; right: 20px; width: 250px; }
  .control-bar { padding: 0 15px; }
  .roi-box-center { width: 50%; height: 60%; }
}
